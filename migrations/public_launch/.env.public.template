# ═══════════════════════════════════════════════════════════════════════════
# RIVET CMMS - PUBLIC DEPLOYMENT ENVIRONMENT
# ═══════════════════════════════════════════════════════════════════════════
# Copy this to .env.production and fill in your values

# ─────────────────────────────────────────────────────────────────────────────
# TELEGRAM BOTS
# ─────────────────────────────────────────────────────────────────────────────

# PUBLIC BOT - Get from @BotFather after creating @RivetCMMS_bot
PUBLIC_TELEGRAM_BOT_TOKEN=your_public_bot_token_here

# PERSONAL BOT - Keep for dev/testing (optional)
TELEGRAM_BOT_TOKEN=8208278660:AAGz6v7dIPMnfepp-UFMCwdUpOAeqYeOT84

# Your Telegram ID for admin notifications (keep this)
TELEGRAM_ADMIN_CHAT_ID=8445149012

# NOTE: AUTHORIZED_TELEGRAM_USERS is NOT used in public mode
# Admin access is controlled by the admin_users database table

# ─────────────────────────────────────────────────────────────────────────────
# AI PROVIDERS
# ─────────────────────────────────────────────────────────────────────────────

OPENAI_API_KEY=sk-proj-...
ANTHROPIC_API_KEY=sk-ant-...
GOOGLE_API_KEY=AIza...

# Voice transcription
VOICE_MODE=edge
EDGE_VOICE=en-US-GuyNeural

# Default model
DEFAULT_LLM_PROVIDER=openai
DEFAULT_MODEL=gpt-4o
DEFAULT_TEMPERATURE=0.0

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (Neon - Primary)
# ─────────────────────────────────────────────────────────────────────────────

DATABASE_PROVIDER=neon
NEON_DB_URL=postgresql://neondb_owner:...@ep-purple-hall-ahimeyn0-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require

# Supabase (Fallback)
DATABASE_FAILOVER_ENABLED=true
DATABASE_FAILOVER_ORDER=neon,supabase

SUPABASE_URL=https://mggqgrxwumnnujojndub.supabase.co
SUPABASE_SERVICE_ROLE_KEY=sb_secret_...
SUPABASE_DB_HOST=db.mggqgrxwumnnujojndub.supabase.co
SUPABASE_DB_PORT=5432
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=...

# ─────────────────────────────────────────────────────────────────────────────
# VPS KNOWLEDGE BASE
# ─────────────────────────────────────────────────────────────────────────────

VPS_KB_HOST=72.60.175.144
VPS_KB_PORT=5432
VPS_KB_USER=rivet
VPS_KB_PASSWORD=rivet_factory_2025!
VPS_KB_DATABASE=rivet
VPS_OLLAMA_URL=http://72.60.175.144:11434

# ─────────────────────────────────────────────────────────────────────────────
# STRIPE PAYMENTS
# ─────────────────────────────────────────────────────────────────────────────

# Test mode keys (switch to live for production)
STRIPE_API_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs from Stripe Dashboard
STRIPE_PRICE_PRO_MONTHLY=price_...
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_...

# ─────────────────────────────────────────────────────────────────────────────
# RATE LIMITS (per hour unless specified)
# ─────────────────────────────────────────────────────────────────────────────

# Free tier limits (enforced in tier_limits table, these are fallbacks)
FREE_QUESTIONS_PER_MONTH=10
FREE_MACHINES_MAX=2
FREE_VOICE_MINUTES=5

# Pro tier limits (-1 = unlimited)
PRO_QUESTIONS_PER_MONTH=100
PRO_MACHINES_MAX=10
PRO_VOICE_MINUTES=60

# ─────────────────────────────────────────────────────────────────────────────
# OBSERVABILITY
# ─────────────────────────────────────────────────────────────────────────────

# LangSmith (for tracing)
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=lsv2_...
LANGCHAIN_PROJECT=rivet-public

# Sentry (optional - for error tracking)
# SENTRY_DSN=https://...@sentry.io/...

# ─────────────────────────────────────────────────────────────────────────────
# MISC
# ─────────────────────────────────────────────────────────────────────────────

# Daily standup time (24h format, UTC)
STANDUP_HOUR=13
STANDUP_MINUTE=0

# SCAFFOLD limits
SCAFFOLD_MAX_COST=5.0
SCAFFOLD_MAX_TIME_HOURS=2.0
SCAFFOLD_DRY_RUN=false
